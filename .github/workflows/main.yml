name: Outline VPN on GitHub Actions

on:
  workflow_dispatch:  # Запуск вручную

jobs:
  outline:
    runs-on: ubuntu-latest
    steps:
      - name: Установка Docker
        run: |
          sudo apt-get update
          sudo apt-get install -y docker.io

      - name: Запуск Outline VPN
        run: |
          docker run -d --name outline-server \
            -p 1024-65535:1024-65535/udp \
            -p 1024-65535:1024-65535/tcp \
            quay.io/outline/shadowbox:stable

      - name: Проверка логов
        run: docker logs outline-server
